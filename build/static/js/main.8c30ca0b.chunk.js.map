{"version":3,"sources":["services/peopleService.js","components/Filter.js","components/Form.js","components/Person.js","components/People.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","res","data","newPerson","post","id","delete","put","Filter","handleFilterChange","filter","onChange","value","Form","onSubmit","nameHandler","numberHandler","name","number","type","Person","person","deletePerson","key","onClick","People","people","filterValue","peopleToShow","toLowerCase","includes","map","Notification","message","error","className","App","useState","setPeople","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","setMessage","setError","useEffect","peopleService","returnedPeople","updatePerson","find","p","returnedPerson","setTimeout","catch","e","event","console","log","target","preventDefault","every","concat","window","confirm","ignored","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8c30ca0b.chunk.js","sourcesContent":["import axios from \"axios\"\r\n\r\n//const baseUrl = \"http://localhost:3001/api/people\"\r\nconst baseUrl = \"https://whispering-stream-26206.herokuapp.com/api/people\"\r\n\r\nconst getAll = () => {\r\n    const req = axios.get(baseUrl)\r\n    return req.then(res => res.data)\r\n}\r\n\r\nconst create = (newPerson) => {\r\n    const req = axios.post(baseUrl, newPerson)\r\n    return req.then(res => res.data)\r\n}\r\n\r\nconst deleteEntry = (id) => {\r\n    const req = axios.delete(`${baseUrl}/${id}`)\r\n    return req.then(res => res.data)\r\n}\r\n\r\nconst update = (id, newPerson) => {\r\n    const req = axios.put(`${baseUrl}/${id}`, newPerson)\r\n    return req.then(res => res.data)\r\n}\r\n\r\nexport default { getAll, create, deleteEntry, update }","import React from 'react'\r\n\r\nconst Filter = ({ handleFilterChange, filter }) => {\r\n    return (\r\n        <div>\r\n            Filter shown with <input onChange={handleFilterChange} value={filter} />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from \"react\"\r\n\r\nconst Form = ({ onSubmit, nameHandler, numberHandler, name, number }) => {\r\n    return (\r\n        <form onSubmit={onSubmit}>\r\n            <div>\r\n                Name: <input onChange={nameHandler} value={name} />\r\n            </div>\r\n            <div>\r\n                Number: <input onChange={numberHandler} value={number} />\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">Add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Form","import React from \"react\"\r\n\r\nconst Person = ({ person, deletePerson }) => {\r\n    return (\r\n        <li key={person.name}>\r\n            {person.name} {person.number} <button onClick={() => deletePerson(person)}>Delete</button>\r\n        </li>\r\n    )\r\n}\r\n\r\nexport default Person","import React from \"react\"\r\nimport Person from \"./Person\"\r\n\r\nconst People = ({ people, filterValue, deletePerson }) => {\r\n\r\n    const peopleToShow = people.filter((person) =>\r\n        person.name.toLowerCase().includes(filterValue.toLowerCase()))\r\n\r\n    return (\r\n        <div>\r\n            {peopleToShow.map((person) =>\r\n                <Person key={person.name} person={person} deletePerson={deletePerson}/>\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default People","import React from 'react'\r\n\r\nconst Notification = ({ message, error }) => {\r\n    if (message === null && error === null) {\r\n        return null\r\n    } else if (message !== null) {\r\n        return (\r\n            <div className=\"message\">\r\n                {message}\r\n            </div>\r\n        )\r\n    } else if (error !== null) {\r\n        return (\r\n            <div className=\"error\">\r\n                {error}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from \"react\"\r\n\r\nimport peopleService from \"./services/peopleService\"\r\n\r\nimport Filter from \"./components/Filter\"\r\nimport Form from \"./components/Form\"\r\nimport People from \"./components/People\"\r\nimport Notification from \"./components/Notification\"\r\n\r\nconst App = () => {\r\n    const [ people, setPeople ] = useState([])\r\n    const [ newName, setNewName ] = useState('')\r\n    const [ newNumber, setNewNumber ] = useState('')\r\n    const [ newFilter, setNewFilter ] = useState('')\r\n    const [ message, setMessage ] = useState(null)\r\n    const [ error, setError ] = useState(null)\r\n\r\n    const handleNameChange = (event) => {\r\n        setNewName(event.target.value)\r\n    }\r\n\r\n    const handleNumberChange = (event) => {\r\n        setNewNumber(event.target.value)\r\n    }\r\n\r\n    const handleFilterChange = (event) => {\r\n        console.log(\"handler\")\r\n        setNewFilter(event.target.value)\r\n    }\r\n\r\n    // Fetch data at the start of the application\r\n    useEffect(() => {\r\n        peopleService\r\n            .getAll()\r\n            .then(returnedPeople => {\r\n                setPeople(returnedPeople)\r\n            })\r\n    }, [])\r\n\r\n    const doesPersonExist = (person) => {\r\n        return people.every((p => p.name.toLowerCase() !== person.name.toLowerCase()))\r\n    }\r\n\r\n    const addPerson = (event) => {\r\n        event.preventDefault()\r\n\r\n        const newPerson = {\r\n            name: newName,\r\n            number: newNumber\r\n        }\r\n        // Person does not exist in the phonebook\r\n        if (doesPersonExist(newPerson)) {\r\n            peopleService\r\n                .create(newPerson)\r\n                .then(returnedPerson => {\r\n                    setPeople(people.concat(returnedPerson))\r\n                    setNewName('')\r\n                    setNewNumber('')\r\n                    // Notification\r\n                    setMessage(`Added ${returnedPerson.name}`)\r\n                    setTimeout(() => {\r\n                        setMessage(null)\r\n                    }, 2000)\r\n                })\r\n        }\r\n        // Person exists already -> update\r\n        else if (window.confirm(`${newPerson.name} is already added to the phonebook,\r\n             replace the old number with a new one?`)) {\r\n            updatePerson(newPerson)\r\n        }\r\n    }\r\n\r\n    const updatePerson = (person) => {\r\n        // Find the id of the existing entry and copy it to the new entry\r\n        const id = people.find(p => p.name.toLowerCase() === person.name.toLowerCase()).id\r\n        person = {...person, id: id}\r\n\r\n        peopleService\r\n            .update(id, person)\r\n            .then(returnedPerson => {\r\n                setPeople(people.map(p => p.id !== id ? p : returnedPerson))\r\n                setNewName('')\r\n                setNewNumber('')\r\n\r\n                // Notification\r\n                setMessage(`Updated ${returnedPerson.name}`)\r\n                setTimeout(() => {\r\n                    setMessage(null)\r\n                }, 2000)\r\n            })\r\n            .catch(e => {\r\n                setPeople(people.filter(p => p.id !== id))\r\n                setError(`Information of ${person.name} has already been removed from the server`)\r\n                setTimeout(() => {\r\n                    setError(null)\r\n                }, 5000);\r\n            })\r\n    }\r\n\r\n    const deletePerson = (person) => {\r\n        if (window.confirm(`Delete ${person.name}?`)) {\r\n            peopleService\r\n                .deleteEntry(person.id)\r\n                .then(ignored => {\r\n                    setPeople(people.filter(p => p.id !== person.id))\r\n                    // Notification\r\n                    setMessage(`${person.name} deleted`)\r\n                    setTimeout(() => {\r\n                        setMessage(null)\r\n                    }, 2000);\r\n                })\r\n                .catch(e => {\r\n                    setError(`Information of ${person.name} has already been removed from the server`)\r\n                    setTimeout(() => {\r\n                        setError(null)\r\n                    }, 5000);\r\n                })\r\n\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <>\r\n            <h2>Phonebook</h2>\r\n            <Notification message={message} error={error} />\r\n            <Filter handleFilterChange={handleFilterChange} filter={newFilter} />\r\n            <h3>Add a new</h3>\r\n            <Form\r\n                onSubmit={addPerson}\r\n                nameHandler={handleNameChange} numberHandler={handleNumberChange}\r\n                name={newName} number={newNumber}\r\n            />\r\n            <h3>Numbers</h3>\r\n            <People people={people} filterValue={newFilter} deletePerson={deletePerson} />\r\n        </>\r\n    )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}